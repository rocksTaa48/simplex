<%= form_tag new_item_path, method: :get, data: { controller: "select", action: "change->select#submit" } do %>
  <%= select_tag :category, options_from_collection_for_select(@categories, "id", "title", @category&.id), prompt: "- Select -" %>
<% end %>
<%= form_with model: @item do |f| %>
  <div class="flex flex-col justify-center items-center border border-slate-400 border-4 rounded-3xl w-4/6">
    <%= f.label :title %>
    <%= f.text_field :title, class:"rounded-xl border border-2 bg-red-50" %>
    <br>
    <%= f.label :description %>
    <%= f.text_area :description, class:"rounded-xl border border-2 bg-blue-100" %>
    <br>
    <%= f.label :price %>
    <%= f.number_field :price, class:"rounded-xl border border-2 bg-gray-100" %>
    <br>
    <%= f.label :quantity %>
    <%= f.number_field :quantity, class:"rounded-xl border border-2 bg-gray-100" %>
    <br>
    <% if @category.present? %>
      <%= f.label :subcategory %>
      <%= f.select "subcategory_id", options_for_select(@subcategories.collect{|s| [s.title, s.id]}) %>
    <% end %>
    <br>
    <%= f.submit "Submit", class:"px-2 py-1 bg-green-500 hover:bg-green-600 rounded-full" %>
  </div>
<% end %>
